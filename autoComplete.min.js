var autoCompletion={url:"",init:function(c){var b=this;if(typeof c=="string"){this.url=c}else{for(var a in c){this[a]=c[a]}}$(".autoComplete").on("keyup",function(){var d=this.value;if(d.length==0){$(this).data("id",0);return}var e=$(this).data("group");$.getJSON(b.url,{key:d},function(f){var g=b.getTarget("completeList",e),h="";$.each(f,function(k,j){h+=b.getTpl(j)});g.html(h)})});$(".completeList").on("click","li",function(){var f=$(this);var d=f.parent();var e=b.getTarget("autoComplete",d.data("group"));e.data("id",f.data("id")).val(f.text());d.html("")})},getTarget:function(c,b){var a=$("."+c);if(typeof b!="undefined"){a=a.filter(function(){return $(this).data("group")==b})}return a},getTpl:function(a){return'<li data-id="'+a.id+'">'+a.name+"</li>"}};
var autoCompletion={init:function(){var a=this;$(".autoComplete").on("keyup",function(){var d=$(this);var b=this.value;if(b.length==0){d.data("id",0);a.getTarget("completeList",c).hide();return}var c=d.data("group");$.getJSON(d.data("url"),{key:b},function(e){var f=a.getTarget("completeList",c),g="";f.css("width",d.css("width"));$.each(e,function(k,h){var l=d.data("value");var j=d.data("name");g+=a.getTpl(h,l?l:"id",j?j:"name")});f.html(g).show()})});$(".completeList").on("click","li",function(){var d=$(this);var b=d.parent();var c=a.getTarget("autoComplete",b.data("group"));c.data("data",d.data("data")).val(d.text());b.hide()})},getTarget:function(c,b){var a=$("."+c);if(typeof b!="undefined"){a=a.filter(function(){return $(this).data("group")==b})}return a},getTpl:function(c,b,a){return'<li data-data="'+c[b]+'">'+c[a]+"</li>"}};
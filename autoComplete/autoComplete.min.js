var autoCompletion={url:"",init:function(c){var b=this;if(typeof c=="string"){this.url=c}else{for(var a in c){this[a]=c[a]}}$(".autoComplete").on("keyup",function(){var f=$(this);var d=this.value;if(d.length==0){f.data("id",0);b.getTarget("completeList",e).hide();return}var e=f.data("group");$.getJSON(b.url,{key:d},function(g){var h=b.getTarget("completeList",e),i="";h.css("width",f.css("width"));$.each(g,function(k,j){i+=b.getTpl(j)});h.html(i).show()})});$(".completeList").on("click","li",function(){var f=$(this);var d=f.parent();var e=b.getTarget("autoComplete",d.data("group"));e.data("id",f.data("id")).val(f.text());d.hide()})},getTarget:function(c,b){var a=$("."+c);if(typeof b!="undefined"){a=a.filter(function(){return $(this).data("group")==b})}return a},getTpl:function(a){return'<li data-id="'+a.id+'">'+a.name+"</li>"}};
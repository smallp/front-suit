$(function(){function a(b,c){if(typeof layer=="undefined"){b.focus();alert(c)}else{b.focus();layer.tips(c,b)}}$.fn.extend({"valid":function(){var f=this[0].elements;for(var b=0,d=f.length;b<d;b++){var e=$(f[b]);var g=e.val(),c;if(c=e.data("repeat")){if(e.val()!=f[c].value){a(e[0],"请确认信息一致");return false}}if(e.attr("required")){if(g==""||(g=="0"&&e[0].type=="select-one")){a(e[0],"请完善信息");return false}}if(g==""){continue}if(c=e.data("type")){switch(c){case"phone":if(isNaN(g)||g.length!=11){a(e[0],"请确认手机号码是否正确");return false}break;default:break}}}return true}});$("form").on("submit",function(){$(this).valid()})});